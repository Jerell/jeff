<!DOCTYPE html>
<html lang="en">
<head>

  <!-- Basic Page Needs
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <meta charset="utf-8">
  <title>Sudoku Solver</title>
  <meta name="description" content="A Sudoku Solving website">
  <meta name="author" content="Jerell">

  <!-- Mobile Specific Metas
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- FONT
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link href="//fonts.googleapis.com/css?family=Raleway:400,300,600" rel="stylesheet" type="text/css">

  <!-- CSS
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="css/skeleton.css">
  <link rel="stylesheet" href="css/prism.css">

  <!-- Scripts
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <script src="http://code.jquery.com/jquery-3.1.1.min.js" charset="utf-8"></script>
  <script src="js/sudoku.js" charset="utf-8"></script>
  <script src="js/functionality.js" charset="utf-8"></script>
  <script src="js/prism.js" charset="utf-8"></script>

  <!-- Favicon
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link rel="icon" type="image/png" href="images/favicon.png">

</head>
<body>

  <!-- Primary Page
  Layout
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <div class="container intro">
    <div class="title row">
      <div class="column">
        <h3>Sudoku Solver</h3></div>
      </div>
      <div class="row">
        <div class="one-half column">
          <p>My idea for a programming project is to make a website that solves sudoku puzzles.</p>
          <p>It would mean making an algorithm to take the initial puzzle as an input, process the current state of the puzzle and loop until it is complete.</p>
          <p>I think this makes a good project because it has a clear use and end state and is easier to verify than something like a crossword.</p>
          <p>I have a basic idea of how to create the program but I haven't worked out the details and I'm a bit out of practice so I imagine it would take a significant amount of time.</p>
          <p>I could create the program as its own thing but I think it needs to be paired with a website so I can have an interface that's easier to use than a command line.</p>
        </div>
        <div class="one-half column">
          <img src="images/sudoku image.png" class="centre-block h300"/>
          <aside>The process would start by ruling out numbers in rows and columns.</aside>
        </div>
      </div>
      <div class="row">
        <div class="column">
          <p>I could write it in C but that makes input and output more difficult so I think javascript is the way to go.</p>
          <p>I only know how to create menu based command line interfaces using C and JavaScript allows me to input all the numbers into a grid of text boxes on a webpage and have a separate submit button.</p>
          <p>This is important because it means each number can be edited individually without starting the input again if a mistake is made.</p>
        </div>
      </div>
      <div class="row origin">
        <h4>Research</h4>
        <h5><a href="https://www.theguardian.com/media/2005/may/15/pressandpublishing.usnews">Origin</a></h5>
        <p>
          Versions of the puzzle have been around since st least 1783, when Leaonhard Euler created 'Latin Squares,' but it wasn't until the late 1970s that Dell Puzzle Magazines created basis for the version around today. Previously called 'Number Place,' it was published for years alongside crossowords and other puzzles before it was discovered and gained traction in Japan.
        </p>
        <p>
          Japanese publisher Nikoli made a couple of improvements to the puzzle and gave it the name 'Sudoku,' publishing it in 1984. It spread quickly, becoming very popular, but never really left the country until 20 years later, after Wayne Gould saw the puzzle in a bookstore and spent 6 years creating a computer program to generate the puzzles.
        </p>
        <aside>Some people attribute the success of Sudoku in Japan to the fact that the language doesnt lend itself well to crossword puzzles
        </aside>
        <p>
          He had one printed in a local newspaper before his wife showed up unannounced at The Times to pitch the idea. The Times published it the following month and it became a worldwide phenomenon.
        </p>
        <h5>Existing Solutions</h5>
        <p>
          <a href="http://www.sudoku-solutions.com/">Sudoku-Solutions.com</a> is a good example of something to work towards. It has a simple interface for inputting data and selecting what you would like to do with it. It goes beyond just solving the puzzles and allows the user to try random puzzles of varying difficulty and have a go at them, with buttons to check, undo, save and load their attempt, before using the solve function.
        </p>
      </div>
      <div class="row implementation">
        <h4>Implementation</h4>
        <h5>Algorithm</h5>
        <p>
          I think the best way to start is to scale down the puzzle to 4x4 first. Scaling down the problem would allow me to focus on things like how the data is stored and processed, which I could then carry over to the 9x9 solution.
        </p>
        <p>
          A 4x4 puzzle only has 16 cells compared to a 9x9's 81. It should be a fair amount faster to do this first as there are far fewer places to potentially go wrong.
        </p>
        <p>
          The basic plan is to assign possible numbers to each cell, read each one that's been entered and remove them as each number is read
        </p>
      </div>
    </div> <!-- End intro -->
    <div class="container early-dev">
      <h4>Data</h4>
      <h5>Storage</h5>
      <p>
        I began by writing out what each part of the puzzle consists of: A grid is made of rows, columns, and blocks of cells which each have positions within the grid, values, and a range of possibilities.
      </p>
      <p>
        Rows, columns and blocks aren't actual things but references to certain areas of the grid. The grid is simply a list of <span class="var">n<span class="power">2</span></span> values where <span class="var">n</span> is the maximum cell value. A row is a list of n numbers starting from <span class="var">row number - 1</span> times <span class="var">n</span>. A column is a list of every <span class="var">n<span class="power">th</span></span> number starting from <span class="var">column number</span>. It's a little more complex to define what a block is but it's very similar to rows and columns, being a subset of the full list of numbers.
      </p>
      <p>
        A 9x9 grid is stored as a list of 81 objects with a value, position and array of nine booleans (one for each possible number). The plan is to change the value of the appropriate boolean when a condition is met that means the cell can no longer contain that particular number. If a number 4 was written in a cell's row, column or block, the program would set the value of <span class="var">Cell.possibilities['4'] <span class="note">NOTE: The first value in an array is Array[0] so really the possibility of n is stored in possibilities[n-1]</span></span> to false, because 4 is no longer a possibility for the cell.
      </p>
      <h5>Cell Comparison</h5>
      <div class="row data">
        <div class="four columns">
          <p>
            The next step was to figure out a way to compare a list of numbers to make sure there were no duplicates. Each row,   column and block has to have each number appear once and only once.
          </p>
          <p>
            My first thought was to compare each pair of numbers but this would be very inefficient. It would take 45 comparisons to compare each pair in a list of 9 numbers.
          </p>
          <p>
            The fact that I want to make the grid scalable creates some difficulty here, as I have to make the comparison function  take a list of unknown length (so it works for both 4x4 and 9x9 grids), but the alternative is to write two separate  programs for the different sizes which defeats the point of scaling the problem down in the first place.
          </p>
        </div>
        <div class="four columns">
          <div class="comparison">
            <div class="digit-window">
              <div class="digit-slide">
                1 2 3 4 5 6 7 8 9
              </div>
            </div>
            <div class="digit-window">
              <div class="digit-slide">
                1 2 3 4 5 6 7 8 9
              </div>
            </div>
          </div>
          <p>
            Knowing that a specific list element can be reached if you know its position in the list, I thought of a potentially more efficient method. I plan to take the list of unknown length as an input, and generate a second list containing every number up to and including <span class="var">numbers.length</span>. Empty spaces in a row will be stored as zeros, so my list could look like <span class="var">0 3 4 4</span> and <span class="var">row.length</span> would be 4. The list of available numbers would be <span class="var">0 1 2 3 4</span>.
          </p>
        </div>
        <div class="four columns">
          <p>
            The comparison would involve eliminating the row numbers from the list and marking the ones for which the number has already been removed as duplicates.
          </p>
          <p>
            Using the example, the placeholder value of zero would be ignored and 3 would be knocked of the list of available numbers first, leaving <span class="var">0 1 2 0 4</span>.
          </p>
          <p>
            When the first 4 is reached, this list becomes <span class="var">0 1 2 0 0</span>. Then the second 4 is checked. However, this time <span class="var">numbers[4]</span> is already 0 so all cells with this value are marked as duplicates.
          </p>
          <aside class="hide">
            'Eliminating' numbers from the list would mean setting the value to zero rather than actually removing an element from the list, as the entire utility of the list comes from having an ordered list of values where <span class="var">row[2].value</span>, the value of the second cell in a row, corresponds to <span class="var">numbers[value] <span class="note">NOTE: In this case, the leading zero on the list of available numbers means that the numbers line up as you would expect them to, with numbers[2] containing the number 2.</span></span>
          </aside>
        </div>
      </div>
      <div class="row data">
        <p>
          During my attempts to implement the comparison function, I came across an existing function to sort the numbers that was already built into the lanuguage. Using <span class="var">Array.prototype.sort()</span>, I sorted the input list then looped through it, checking if each value was the same as the next. If the two were equal, that value was added to an array called <span class="var">duplicates</span> which the function returned at the end.
        </p>
        <div class="one-half column">
          <pre>
            <code class="language-javascript">
function findDupes(cellList){
  var list = cellList;
  // Another small block of code takes the numbers
  // from inside the cells and puts them in 'list'
  var sorted = list;
  sorted.sort();
  var duplicates = [];

  for(var j=0; j < sorted.length; j++){
    if(sorted[j] == sorted[j+1]){
      if(duplicates.includes(sorted[j]) == false){
        duplicates.push(sorted[j]);
      }
    }
  }
  return duplicates;
}
            </code>
          </pre>
        </div>
        <div class="one-half column">
          <p>
            If a cell value matched a neighbouring cell and the value wasn't already recorded as a duplicate, it was added to the list.
          </p>
          <div class="digit-window double-width-window">
            <div class="digit-slide">
              1 2 3 5 5 6 7 8 9
            </div>
          </div>
          <p>
            Here is the code that checks a list of numbers for duplicates. Enter some numbers below to have them checked.
          </p>
          <form class="" action="javascript: processSimpleInput()">
            <input type="number" name="checknums" value="1" inputmode="numeric" onchange="javascript: clearDupesFromSimpleInput()">
            <input type="number" name="checknums" value="2" inputmode="numeric" onchange="javascript: clearDupesFromSimpleInput()">
            <input type="number" name="checknums" value="1" inputmode="numeric" onchange="javascript: clearDupesFromSimpleInput()">
            <input type="submit" name="" value="Check">
          </form>
          <p>
            This method does only 8 comparisons for a list of 9 numbers. Comparing each number to every other number in the list involves <span class="var">n(n+1)/2</span> comparisons where <span class="var">n</span> is the length of the list, so it is clearly much more efficient to make use of the in-built sorting function and make only <span class="var">n-1</span> comparisons.
          </p>
        </div>
      </div>
    </div>

    <!-- End Document
    –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  </body>
  </html>
